<odoo>
    <!-- Inherit from the main sale order content to add custom DAG transactions -->
    <template id="portal_order_metagraph" inherit_id="sale.sale_order_portal_content">
        <xpath expr="//section[@id='details']" position="before">
            <section class="mt-5">
                <h3>DAG Transactions</h3>
                <table class="table table-hover">
                    <thead>
                        <tr>
                            <th>Name</th>
                            <th>Status</th>
                            <th>Transaction Hash</th>
                            <th>Amount</th>
                        </tr>
                    </thead>
                    <tbody t-if="sale_order and sale_order.metagraph_ids">
                        <tr t-foreach="sale_order.metagraph_ids" t-as="metagraph">
                            <td t-esc="metagraph.name"/>
                            <td t-esc="metagraph.blockchain_status"/>
                            <td t-esc="metagraph.transaction_hash"/>
                            <td t-esc="metagraph.amount"/>
                        </tr>
                    </tbody>
                    <tbody t-if="not sale_order or not sale_order.metagraph_ids">
                        <tr>
                            <td colspan="4">No DAG Transactions available.</td>
                        </tr>
                    </tbody>
                </table>
            </section>
        </xpath>
    </template>

    <!-- Ensure the base layout is applied by also inheriting the portal layout -->
    <template id="custom_portal_order_layout" inherit_id="portal.portal_layout">
        <xpath expr="//div[@id='wrap']/div" position="inside">
            <div class="o_portal_order_metagraph_layout">
                <!-- This is a placeholder for potential further customization -->
            </div>
        </xpath>
    </template>
</odoo>
